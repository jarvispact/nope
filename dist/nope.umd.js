(function(i,d){typeof exports=="object"&&typeof module<"u"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(i=typeof globalThis<"u"?globalThis:i||self,d(i.Nope={}))})(this,function(i){"use strict";const d=e=>Object.keys(e),h=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null&&!(e instanceof Date),f=e=>{switch(typeof e){case"string":return`'${e}'`;case"number":case"boolean":return e.toString();case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(e instanceof Date)return"date";const a=Object.keys(e),t=3,n=Math.max(0,a.length-t),r=a.slice(0,t).map(s=>`${s}: ${f(e[s])}`).join(", ");return a.length>0?`{ ${r}${n>0?`, + ${n} more`:""} }`:"{}"}default:return"unknown"}},E=e=>({status:"ERR",value:e}),b=e=>({status:"OK",value:e}),y=e=>e.status==="ERR",O=e=>e.status==="OK",$=e=>{if(y(e))throw new Error("Cannot not unwrap either");return e.value},T=(e,{onOk:a,onErr:t})=>O(e)?a(e.value):t(e.value),U=(e,{onOk:a,onErr:t})=>({eitherObject:e,onOk:a,onErr:t}),c=({code:e,message:a,details:t})=>(n,r)=>({code:e,message:a||`input: ${f(n)}, does not match type of: '${r.displayString}'`,details:t?{...r,...t}:r}),l=e=>e,m=e=>a=>({is:t=>e.is(t)&&a.is(t),err:(t,n)=>e.is(t)?a.err(t,n):e.err(t,n)}),P=(e,a)=>o({uri:e.uri,create:e.create,validation:l({is:t=>e.is(t)&&a.every(n=>n.is(t)),err:(t,n)=>{if(!e.is(t))return e.err(t,n);const r=a.find(s=>!s.is(t));return r==null?void 0:r.err(t,n)}})}),o=({uri:e,displayString:a=e,create:t,validation:n})=>{const r=s=>n.is(s)?b(t(s)):E(n.err(s,{uri:e,displayString:a}));return{uri:e,displayString:a,is:n.is,create:t,err:n.err,validate:r}},j=l({is:e=>e instanceof Date&&e.toString()!=="Invalid Date",err:c({code:"E_DATE"})}),R=o({uri:"DateSchema",create:e=>e,validation:j}),u=l({is:e=>typeof e=="string",err:c({code:"E_STRING"})}),K=o({uri:"StringSchema",create:e=>String(e),validation:u}),v=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i,g=m(u)({is:e=>v.test(e),err:c({code:"E_EMAIL"})}),A=o({uri:"EmailSchema",create:e=>e,validation:g}),S=l({is:e=>typeof e=="number"&&!Number.isNaN(e),err:c({code:"E_NUMBER"})}),k=o({uri:"NumberSchema",create:e=>Number(e),validation:S}),I=m(S)({is:e=>Number.isInteger(e),err:c({code:"E_INT"})}),M=o({uri:"IntSchema",create:e=>e,validation:I}),w=e=>{const t=Object.keys(e),n=Math.max(0,t.length-3),r=t.map(s=>`${s}: ${e[s].uri}`).slice(0,3).join(", ");return t.length>0?`ObjectSchema({ ${r}${n>0?`, + ${n} more`:""} })`:"ObjectSchema({})"},D=(e,a)=>{const t=Object.keys(a);return Object.keys(e).every(n=>t.includes(n))},V=e=>l({is:a=>!h(a)||!D(e,a)?!1:Object.keys(e).every(t=>e[t].is(a[t])),err:(a,t)=>h(a)?D(e,a)?c({code:"E_OBJECT_PROPERTIES",details:{properties:d(e).reduce((n,r)=>(n[r]=e[r].validate(a[r]),n),{})}})(a,t):c({code:"E_OBJECT_MISSING_KEYS"})(a,t):c({code:"E_OBJECT_SHAPE"})(a,t)}),C=e=>o({uri:"ObjectSchema",displayString:w(e),create:a=>a,validation:V(e)}),N=m(S)({is:e=>e>=0,err:c({code:"E_UINT"})}),B=o({uri:"UIntSchema",create:e=>e,validation:N}),J=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,_=m(u)({is:e=>J.test(e),err:c({code:"E_UUID"})}),G=o({uri:"UuidSchema",create:e=>e,validation:_});i.DateSchema=R,i.DateValidation=j,i.EmailSchema=A,i.EmailValidation=g,i.IntSchema=M,i.IntValidation=I,i.NumberSchema=k,i.NumberValidation=S,i.ObjectSchema=C,i.ObjectValidation=V,i.StringSchema=K,i.StringValidation=u,i.UIntSchema=B,i.UIntValidation=N,i.UuidSchema=G,i.UuidValidation=_,i.createError=c,i.err=E,i.extendValidation=m,i.inputToDisplayString=f,i.isErr=y,i.isObject=h,i.isOk=O,i.matchEither=T,i.matchObjectProperties=U,i.objectKeys=d,i.ok=b,i.schema=o,i.unwrapEither=$,i.validation=l,i.withValidations=P,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
