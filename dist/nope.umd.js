var fe=Object.defineProperty,ye=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var F=(i,n,s)=>n in i?fe(i,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[n]=s,z=(i,n)=>{for(var s in n||(n={}))Ee.call(n,s)&&F(i,s,n[s]);if(C)for(var s of C(n))_e.call(n,s)&&F(i,s,n[s]);return i},L=(i,n)=>ye(i,$e(n));(function(i,n){typeof exports=="object"&&typeof module!="undefined"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis!="undefined"?globalThis:i||self,n(i.Nope={}))})(this,function(i){"use strict";const n=e=>({status:"SUCCESS",value:e}),s=e=>({status:"FAILURE",value:e}),u=(e,r,t,o={})=>({uri:e,code:r,message:t,details:o}),d=({uri:e,is:r,create:t,validate:o,serialize:c})=>{const a=null,f=null,_=null,y=()=>e;return{I:a,O:f,E:_,uri:e,is:r,create:t,validate:$=>o($,{uri:e,is:r,create:t,serialize:c||y}),serialize:c||y}},v=(e,{uri:r,is:t,create:o,err:c,validate:a})=>{if(c)return Z(e,{uri:r,is:t,create:o,err:c});if(a)return G(e,{uri:r,is:t,create:o,validate:a});throw new Error('you need to provide a "err" or "validate" function')},G=(e,{uri:r,is:t,create:o,validate:c})=>d({uri:r,is:a=>e.is(a)&&t(a),create:o,validate:(a,f)=>{const _=e.validate(a),y=c(a,f),$=[_,y].filter(b=>b.status==="FAILURE").flatMap(b=>b.value);return $.length?s($):n(a)}}),Z=(e,{uri:r,is:t,create:o,err:c})=>d({uri:r,is:a=>e.is(a)&&t(a),create:o,validate:a=>{const f=e.validate(a),_=t(a)?n(o(a)):s(c(a)),y=[f,_].filter($=>$.status==="FAILURE").flatMap($=>$.value);return y.length?s(y):n(a)}}),E=e=>e,g=e=>Object.keys(e),S=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null,M=e=>e===null?"null":e instanceof Date?"date":S(e)?"record":Array.isArray(e)?"array":typeof e,l=(e,r)=>({expectedType:e,providedType:M(r),providedNativeType:typeof r,providedValue:r}),h="array",B=e=>u(h,"E_NO_ARRAY",`input is not of type: "${h}"`,l(h,e)),V=e=>d({uri:h,is:r=>Array.isArray(r)&&r.every(e.is),create:E,validate:(r,{is:t,create:o})=>t(r)?n(o(r)):Array.isArray(r)?s({error:null,items:r.map(e.validate)}):s({error:B(r),items:[]})}),N="boolean",W=e=>u(N,"E_NO_BOOLEAN",`input is not of type: "${N}"`,l(N,e)),X=d({uri:N,is:e=>typeof e===N,create:E,validate:(e,{is:r,create:t})=>r(e)?n(t(e)):s(W(e))}),R="string",Y=e=>u(R,"E_NO_STRING",`input is not of type: "${R}"`,l(R,e)),I=d({uri:R,is:e=>typeof e===R,create:E,validate:(e,{is:r,create:t})=>r(e)?n(t(e)):s(Y(e))}),P="date-string",H=v(I,{uri:P,is:e=>/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/i.test(e)&&new Date(e).toString()!=="Invalid Date",create:e=>e,err:e=>u(P,"E_NO_DATE_STRING",`input is not of type: "${P}"`,l(P,e))}),T="date",J=e=>u(T,"E_NO_DATE",`input is not of type: "${T}"`,l(T,e)),Q=d({uri:T,is:e=>e instanceof Date&&e.toString()!=="Invalid Date",create:E,validate:(e,{is:r,create:t})=>r(e)?n(t(e)):s(J(e))}),j="email",k=v(I,{uri:j,is:e=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e),create:e=>e,err:e=>u(j,"E_NO_EMAIL",`input is not of type: "${j}"`,l(j,e))}),A="number",w=e=>u(A,"E_NO_NUMBER",`input is not of type: "${A}"`,l(A,e)),p=d({uri:A,is:e=>typeof e===A,create:E,validate:(e,{is:r,create:t})=>r(e)?n(t(e)):s(w(e))}),D="float",x=v(p,{uri:D,is:e=>e%1!=0,create:e=>e,err:e=>u(D,"E_NO_FLOAT",`input is not of type: "${D}"`,l(D,e))}),m="integer",ee=v(p,{uri:m,is:e=>Number.isInteger(e),create:e=>e,err:e=>u(m,"E_NO_INTEGER",`input is not of type: "${m}"`,l(m,e))}),K="literal",re=(e,r)=>u(K,"E_NO_LITERAL",`input is not of type: "${r}"`,l(K,e)),te=e=>d({uri:K,is:r=>r===e,create:E,validate:(r,{is:t,create:o,serialize:c})=>t(r)?n(o(r)):s(re(r,c())),serialize:()=>typeof e=="string"?`literal("${e}")`:`literal(${e})`}),ie=e=>d({uri:"nullable",is:r=>r===null||e.is(r),create:E,validate:(r,{is:t,create:o})=>t(r)?n(o(r)):e.validate(r)}),ne=e=>d({uri:"optional",is:r=>r===void 0||e.is(r),create:E,validate:(r,{is:t,create:o})=>t(r)?n(o(r)):e.validate(r)}),O="record",se=(e,r)=>u(O,"E_NO_RECORD",`input is not of type: "${r}"`,l(O,e)),oe=(e,r)=>u(O,"E_RECORD_MISSING_PROPERTIES","input is missing record properties",L(z({},l(O,e)),{requiredProperties:r})),ae=(e,r)=>u(O,"E_RECORD_UNEXPECTED_PROPERTIES","input has unexpected record properties",L(z({},l(O,e)),{requiredProperties:r})),ce=(e,r={})=>d({uri:O,is:t=>{if(!S(t))return!1;const c=g(e).length,f=g(t).length,_=r.requiredProperties||g(e);return r.requiredProperties&&r.requiredProperties.length!==c?f>=r.requiredProperties.length&&f<=c&&_.every(b=>e[b].is(t[b])):f===c&&_.every($=>e[$].is(t[$]))},create:E,validate:(t,{is:o,create:c,serialize:a})=>{if(o(t))return n(c(t));if(!S(t))return s({error:se(t,a()),properties:null});const f=r.requiredProperties||g(e);return g(t).length<f.length?s({error:oe(t,r.requiredProperties||Object.keys(e)),properties:null}):g(t).length>g(e).length?s({error:ae(t,r.requiredProperties||Object.keys(e)),properties:null}):s({error:null,properties:f.reduce((_,y)=>(_[y]=e[y].validate(t[y]),_),{})})},serialize:()=>`record({ ${Object.keys(e).map(o=>[`${o}: `,`${e[o].serialize()}`].join("")).join(", ")} })`}),U="union",ue=(e,r)=>u(U,"E_NOT_IN_UNION",`input is not of type: "${r}"`,l(U,e)),le=e=>d({uri:U,is:r=>e.some(t=>t.is(r)),create:E,validate:(r,{is:t,create:o,serialize:c})=>t(r)?n(o(r)):s(ue(r,c())),serialize:()=>`union([${e.map(r=>r.serialize()).join(", ")}])`}),q="uuid",de=v(I,{uri:q,is:e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),create:e=>e,err:e=>u(q,"E_NO_UUID",`input is not of type: "${q}"`,l(q,e))});i.array=V,i.boolean=X,i.createError=u,i.createSchema=d,i.date=Q,i.dateString=H,i.email=k,i.extendSchema=v,i.failure=s,i.float=x,i.getDisplayType=M,i.getErrorDetails=l,i.identity=E,i.integer=ee,i.isObject=S,i.literal=te,i.nullable=ie,i.number=p,i.objectKeys=g,i.optional=ne,i.record=ce,i.string=I,i.success=n,i.union=le,i.uuid=de,Object.defineProperty(i,"__esModule",{value:!0}),i[Symbol.toStringTag]="Module"});
