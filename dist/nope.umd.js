(function(a,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.Nope={}))})(this,function(a){"use strict";const l=e=>Object.keys(e),y=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null&&!(e instanceof Date),A={maxArrayDisplayProperties:3,maxObjectDisplayProperties:3},f=(e,r)=>{const t={...A,...r};switch(typeof e){case"string":return`'${e}'`;case"number":case"boolean":return e.toString();case"object":{if(e===null)return"null";if(e instanceof Date)return"Date";if(Array.isArray(e)){const d=Math.max(0,e.length-t.maxArrayDisplayProperties),z=e.slice(0,t.maxArrayDisplayProperties).map(H=>f(H,t)).join(", ");return e.length>0?`[ ${z}${d>0?`, + ${d} more`:""} ]`:"[]"}const i=Object.keys(e),n=Math.max(0,i.length-t.maxObjectDisplayProperties),s=i.slice(0,t.maxObjectDisplayProperties).map(d=>`${d}: ${f(e[d],t)}`).join(", ");return i.length>0?`{ ${s}${n>0?`, + ${n} more`:""} }`:"{}"}case"undefined":return"undefined";default:return"unknown"}},b=e=>({status:"ERR",value:e}),O=e=>({status:"OK",value:e}),E=e=>e.status==="ERR",j=e=>e.status==="OK",T=e=>{if(E(e))throw new Error("Cannot not unwrap either");return e.value},U=(e,{onOk:r,onErr:t})=>j(e)?r(e.value):t(e.value),K=(e,{onOk:r,onErr:t})=>({eitherObject:e,onOk:r,onErr:t}),c=({code:e,message:r,details:t})=>(i,n)=>({code:e,message:r||`input: ${f(i)}, does not match the type of: '${n.displayString}'`,details:t?{...n,...t}:n}),m=e=>e,u=e=>r=>({is:t=>e.is(t)&&r.is(t),err:(t,i)=>e.is(t)?r.err(t,i):e.err(t,i)}),R=(e,r)=>o({uri:e.uri,create:e.create,validation:m({is:t=>e.is(t)&&r.every(i=>i.is(t)),err:(t,i)=>{if(!e.is(t))return e.err(t,i);const n=r.find(s=>!s.is(t));return n==null?void 0:n.err(t,i)}})}),o=({uri:e,displayString:r=e,create:t,validation:i})=>{const n=s=>i.is(s)?O(t(s)):b(i.err(s,{uri:e,displayString:r}));return{uri:e,displayString:r,is:i.is,create:t,err:i.err,validate:n}},g=m({is:e=>e instanceof Date&&e.toString()!=="Invalid Date",err:c({code:"E_DATE"})}),k=o({uri:"DateSchema",create:e=>e,validation:g}),h=m({is:e=>typeof e=="string",err:c({code:"E_STRING"})}),C=o({uri:"StringSchema",create:e=>String(e),validation:h}),M=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i,D=u(h)({is:e=>M.test(e),err:c({code:"E_EMAIL"})}),w=o({uri:"EmailSchema",create:e=>e,validation:D}),S=m({is:e=>typeof e=="number"&&!Number.isNaN(e),err:c({code:"E_NUMBER"})}),v=o({uri:"NumberSchema",create:e=>Number(e),validation:S}),I=u(S)({is:e=>Number.isInteger(e),err:c({code:"E_INT"})}),B=o({uri:"IntSchema",create:e=>e,validation:I}),J=e=>{const t=Object.keys(e),i=Math.max(0,t.length-3),n=t.map(s=>`${s}: ${e[s].uri}`).slice(0,3).join(", ");return t.length>0?`ObjectSchema({ ${n}${i>0?`, + ${i} more`:""} })`:"ObjectSchema({})"},$=(e,r)=>{const t=Object.keys(r);return Object.keys(e).every(i=>t.includes(i))},P=(e,r)=>Object.keys(e)<Object.keys(r),Y={failOnAdditionalProperties:!0},_=(e,r)=>{const t={...Y,...r};return m({is:i=>!y(i)||!$(e,i)||t.failOnAdditionalProperties&&P(e,i)?!1:Object.keys(e).every(n=>e[n].is(i[n])),err:(i,n)=>y(i)?$(e,i)?t.failOnAdditionalProperties&&P(e,i)?c({code:"E_OBJECT_ADDITIONAL_KEYS"})(i,n):c({code:"E_OBJECT_PROPERTY",details:{properties:l(e).reduce((s,d)=>(s[d]=e[d].validate(i[d]),s),{})}})(i,n):c({code:"E_OBJECT_MISSING_KEYS"})(i,n):c({code:"E_OBJECT"})(i,n)})},F=(e,r)=>o({uri:"ObjectSchema",displayString:J(e),create:t=>t,validation:_(e,r)}),N=u(S)({is:e=>e>=0,err:c({code:"E_UINT"})}),G=o({uri:"UIntSchema",create:e=>e,validation:N}),L=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,V=u(h)({is:e=>L.test(e),err:c({code:"E_UUID"})}),q=o({uri:"UuidSchema",create:e=>e,validation:V});a.DateSchema=k,a.DateValidation=g,a.EmailSchema=w,a.EmailValidation=D,a.IntSchema=B,a.IntValidation=I,a.NumberSchema=v,a.NumberValidation=S,a.ObjectSchema=F,a.ObjectValidation=_,a.StringSchema=C,a.StringValidation=h,a.UIntSchema=G,a.UIntValidation=N,a.UuidSchema=q,a.UuidValidation=V,a.createError=c,a.err=b,a.extendValidation=u,a.inputToDisplayString=f,a.isErr=E,a.isObject=y,a.isOk=j,a.matchEither=U,a.matchObjectProperties=K,a.objectKeys=l,a.ok=O,a.schema=o,a.unwrapEither=T,a.validation=m,a.withValidations=R,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
